(window["webpackJsonpweather-herolo"]=window["webpackJsonpweather-herolo"]||[]).push([[0],{46:function(e,t,a){e.exports=a(89)},58:function(e,t,a){},60:function(e,t,a){},83:function(e,t,a){},84:function(e,t,a){},85:function(e,t,a){},86:function(e,t,a){},87:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(17),i=a.n(c),o=a(15),s=a(4),l=a(40),u=a(10),m=(a(55),a(41)),d=a(21),v=a(42),p=a.n(v),f=a(18),E={FETCH_CITY_CODE:"FETCH_CITY_CODE",FETCH_CITY_WEATHER:"FETCH_CITY_WEATHER",FETCH_FIVE_DAY_FORECAST:"FETCH_FIVE_DAY_FORECAST",USER_INPUT:"USER_INPUT",ADD_FAVORITE_CITY:"ADD_FAVORITE_CITY",DELETE_FAVORITE_CITY:"DELETE_FAVORITE_CITY",SELECTED_CITY:"SELECTED_CITY",SET_DARK_MODE:"SET_DARK_MODE",SET_FAHRENHEIT_CELSIUS:"SET_FAHRENHEIT_CELSIUS"};function h(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?h(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):h(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var b={cityCode:[],cityWeather:[],fiveDayForecast:[],selectedCity:null},O=a(45);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function N(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var T={addCityToFavorites:function(e,t){if(e.find((function(e){return e.id===t.id})))return e.map((function(e){return e.id===t.id?N({},e):e}));return[].concat(Object(O.a)(e),[N({},t)])},deleteFavorite:function(e,t){return e.filter((function(e){return e.id!==t.id}))}};function g(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function w(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?g(a,!0).forEach((function(t){Object(f.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):g(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var F={favorites:[],darkMode:!1,isFahrenheit:!1},D={key:"root",storage:p.a,whitelist:["favoriteReducer"]},j=Object(u.c)({weatherReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.SELECTED_CITY:return y({},e,{selectedCity:t.payload});case E.FETCH_CITY_CODE:return y({},e,{cityCode:t.payload});case E.FETCH_CITY_WEATHER:return y({},e,{cityWeather:t.payload});case E.FETCH_FIVE_DAY_FORECAST:return y({},e,{fiveDayForecast:t.payload});default:return e}},favoriteReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.ADD_FAVORITE_CITY:return w({},e,{favorites:T.addCityToFavorites(e.favorites,t.payload)});case E.DELETE_FAVORITE_CITY:return w({},e,{favorites:T.deleteFavorite(e.favorites,t.payload)});case E.SET_DARK_MODE:return w({},e,{darkMode:t.payload});case E.SET_FAHRENHEIT_CELSIUS:return w({},e,{isFahrenheit:t.payload});default:return e}}}),_=Object(d.a)(D,j),I=[m.a];var k=Object(u.d)(_,u.a.apply(void 0,I)),S=Object(d.b)(k),x=a(16),A=a(14),R=function(e){return{type:E.DELETE_FAVORITE_CITY,payload:e}},M=(a(58),Object(s.b)(null,(function(e){return{setDarkMode:function(t){return e(function(e){return{type:E.SET_DARK_MODE,payload:e}}(t))},setFahrenheitToggle:function(t){return e({type:E.SET_FAHRENHEIT_CELSIUS,payload:t})}}}))((function(e){var t=e.setDarkMode,a=e.setFahrenheitToggle,c=Object(r.useState)(!1),i=Object(A.a)(c,2),s=i[0],l=i[1],u=Object(r.useState)(!1),m=Object(A.a)(u,2),d=m[0],v=m[1],p=Object(r.useState)(!1),f=Object(A.a)(p,2),E=f[0],h=f[1];return n.a.createElement("div",null,n.a.createElement("nav",{className:"".concat(d?"is-dark":""," navbar"),role:"navigation","aria-label":"main navigation"},n.a.createElement("div",{className:"navbar-brand"},n.a.createElement(o.b,{className:"logo",to:"/"},n.a.createElement("img",{src:"https://i.imgur.com/5qdECQv.png",style:{padding:"10px"},alt:"logo",width:"220"})),n.a.createElement("div",{role:"button",onClick:function(){l(!s)},className:"".concat(s?"is-active":""," navbar-burger burger"),"aria-label":"menu","aria-expanded":"false","data-target":"navbarBasicExample"},n.a.createElement("span",{"aria-hidden":"true"}),n.a.createElement("span",{"aria-hidden":"true"}),n.a.createElement("span",{"aria-hidden":"true"}))),n.a.createElement("div",{id:"navbarBasicExample",className:"".concat(s?"is-active":""," navbar-menu")},n.a.createElement("div",{className:"navbar-end"},n.a.createElement("div",{className:"navbar-item"},n.a.createElement("div",{className:"buttons",style:{justifyContent:"center"}},n.a.createElement("div",{className:"button is-light",style:{cursor:"pointer"},href:"#",onClick:function(){d?(v(!1),t(!1)):(v(!0),t(!0))}},d?"Light Mode":"Dark Mode"),n.a.createElement("div",{className:"button is-light",style:{cursor:"pointer"},href:"#",onClick:function(){E?(h(!1),a(!1)):(h(!0),a(!0))}},E?"Celsius":"Fahrenheit"),n.a.createElement(o.b,{className:"button is-light",to:"/"},"HOME"),n.a.createElement(o.b,{className:"button is-light",to:"/favorites"},"FAVORITES")))))))}))),P=(a(60),a(3)),H=a.n(P),Y=a(8),L=a(22),V=a.n(L),W="GEodkJ6YjTCvyszsHyu2ACeDeTBvqjac";function z(){return(z=Object(Y.a)(H.a.mark((function e(){var t,a,r=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"tel aviv",e.prev=1,e.next=4,V.a.get("https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=".concat(W,"&q=").concat(t));case 4:return a=e.sent,e.abrupt("return",a.data[0]);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function K(){return(K=Object(Y.a)(H.a.mark((function e(){var t,a,r=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"215845",e.prev=1,e.next=4,V.a.get("https://dataservice.accuweather.com/currentconditions/v1/".concat(t,"?apikey=").concat(W));case 4:return a=e.sent,e.abrupt("return",a.data[0]);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function U(){return(U=Object(Y.a)(H.a.mark((function e(){var t,a,r=arguments;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:"215845",e.prev=1,e.next=4,V.a.get("https://dataservice.accuweather.com/forecasts/v1/daily/5day/".concat(t,"?apikey=").concat(W));case 4:return a=e.sent,e.abrupt("return",a.data);case 8:throw e.prev=8,e.t0=e.catch(1),e.t0;case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var B={getCountryCode:function(){return z.apply(this,arguments)},getWeather:function(){return K.apply(this,arguments)},getFiveDayForecast:function(){return U.apply(this,arguments)}},q=function(e,t){return{payload:e,type:t}},J=function(e){return function(){var t=Object(Y.a)(H.a.mark((function t(a){var r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.getCountryCode(e);case 3:return r=t.sent,a(q(r,E.FETCH_CITY_CODE)),t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},$=function(e){return function(){var t=Object(Y.a)(H.a.mark((function t(a){var r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.getWeather(e);case 3:return r=t.sent,a(q(r,E.FETCH_CITY_WEATHER)),t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},G=function(e){return function(){var t=Object(Y.a)(H.a.mark((function t(a){var r;return H.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,B.getFiveDayForecast(e);case 3:return r=t.sent,a(q(r,E.FETCH_FIVE_DAY_FORECAST)),t.abrupt("return",r);case 8:throw t.prev=8,t.t0=t.catch(0),t.t0;case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},Q=a(28),Z=a.n(Q),X=a(44),ee=a.n(X),te=(a(83),Object(s.b)((function(e){return{isFahrenheit:e.favoriteReducer.isFahrenheit}}))((function(e){var t=e.weather,a=e.isFahrenheit;return n.a.createElement(ee.a,null,n.a.createElement("div",{className:"cards-container"},n.a.createElement("div",{className:"box"},n.a.createElement("div",{className:"weathercon"},n.a.createElement("img",{src:"https://apidev.accuweather.com/developers/Media/Default/WeatherIcons/0".concat(t.Day.Icon,"-s.png"),alt:""})),n.a.createElement("div",{className:"info"},n.a.createElement("h2",{className:"location"},n.a.createElement(Z.a,{format:"dddd"},t.Date)),n.a.createElement("p",{className:"date"}," ",n.a.createElement(Z.a,{format:"ll"},t.Date)," | ",t.Day.IconPhrase),a?n.a.createElement("h1",{className:"temp"},t.Temperature.Minimum.Value," \xb0F | ",t.Temperature.Maximum.Value," \xb0F"):n.a.createElement("h1",{className:"temp"},((t.Temperature.Minimum.Value-32)/1.8).toFixed()," \xb0C | ",((t.Temperature.Maximum.Value-32)/1.8).toFixed()," \xb0C")))))}))),ae=a(11),re=(a(84),Object(s.b)((function(e){var t=e.weatherReducer,a=t.cityCode,r=t.cityWeather,n=t.fiveDayForecast,c=t.selectedCity,i=e.favoriteReducer;return{cityCode:a,cityWeather:r,fiveDayForecast:n,favorites:i.favorites,selectedCity:c,darkMode:i.darkMode,isFahrenheit:i.isFahrenheit}}))((function(e){var t=e.cityCode,a=e.cityWeather,c=e.fiveDayForecast,i=e.favorites,o=e.isFahrenheit,s=e.selectedCity,l=e.darkMode,u=e.dispatch,m=Object(r.useState)(!1),d=Object(A.a)(m,2),v=d[0],p=d[1],f=Object(r.useState)(!1),h=Object(A.a)(f,2),y=h[0],b=h[1];Object(r.useEffect)((function(){function e(){return(e=Object(Y.a)(H.a.mark((function e(){return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,null!==s){e.next=10;break}return e.next=4,u(J());case 4:return e.next=6,u($());case 6:return e.next=8,u(G());case 8:e.next=16;break;case 10:return e.next=12,u(J(s));case 12:return e.next=14,u($(t.Key));case 14:return e.next=16,u(G(t.Key));case 16:e.next=22;break;case 18:e.prev=18,e.t0=e.catch(0),ae.a.error("Something went wrong... try again later!"),b(!0);case 22:case"end":return e.stop()}}),e,null,[[0,18]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[]),Object(r.useEffect)((function(){var e;return v&&(e=setTimeout((function(){p(!1),e=null}),300)),function(){e&&clearTimeout(e)}}),[v]);var O=function(){p(!v);var e={id:t.AdministrativeArea.ID,cityName:t.LocalizedName,countryName:t.Country.LocalizedName,icon:a.WeatherIcon,temperature:a.Temperature};u({type:E.ADD_FAVORITE_CITY,payload:e}),ae.a.success("Successfully saved ".concat(t.LocalizedName," to favorites"))},C=function(){var e=i.find((function(e){return e.id===t.AdministrativeArea.ID}));p(!v),u(R(e)),ae.a.warn("Successfully deleted ".concat(t.LocalizedName," from favorites"))};return n.a.createElement(n.a.Fragment,null,t&&t.Country&&a.Temperature&&n.a.createElement("div",{className:"wrapper"},n.a.createElement("div",{className:"card"},n.a.createElement("div",{className:"header"},n.a.createElement((function(){return-1!==i.findIndex((function(e){return e.cityName===t.LocalizedName}))?n.a.createElement("div",{className:"fav-icon",onClick:C},n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," love heart")})):n.a.createElement("div",{className:"fav-icon",onClick:O},n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active":""," line")}),n.a.createElement("div",{className:"".concat(v?"active love":""," heart")}))}),null),n.a.createElement("div",{className:"center"},n.a.createElement("img",{src:"https://apidev.accuweather.com/developers/Media/Default/WeatherIcons/".concat(a.WeatherIcon,"-s.png"),alt:""}),n.a.createElement("h1",{className:"value"},o?a.Temperature.Imperial.Value:a.Temperature.Metric.Value," ",o?n.a.createElement("span",null,"\xb0F"):n.a.createElement("span",null,"\xb0C")),n.a.createElement("h3",null,a.WeatherText))),n.a.createElement("div",{className:"".concat(l?"dark-mode":""," details")},n.a.createElement("h1",{className:"title"},t.LocalizedName,", ",t.Country.LocalizedName," "),n.a.createElement("div",{className:"cards-container"},c.DailyForecasts&&c.DailyForecasts.map((function(e,t){return n.a.createElement(te,{key:t,weather:e})})))))),y&&n.a.createElement("div",{id:"container"},n.a.createElement("div",{id:"error-box"},n.a.createElement("div",{className:"shadow move"}),n.a.createElement("div",{className:"message"},n.a.createElement("h1",{className:"alert"},"Error!"),n.a.createElement("p",null,"oh no, something went wrong.")),n.a.createElement("button",{className:"button-box",onClick:function(){return window.location.reload()}},n.a.createElement("h1",{className:"red"},"try again")))))}))),ne=(a(85),Object(s.b)((function(e){return{cityCode:e.weatherReducer.cityCode,darkMode:e.favoriteReducer.darkMode}}))((function(e){var t=e.darkMode,a=e.dispatch,c=Object(r.useState)(""),i=Object(A.a)(c,2),o=i[0],s=i[1],l=function(){var e=Object(Y.a)(H.a.mark((function e(t){var r;return H.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),r=/^[a-zA-Z ]+$/,o.match(r)){e.next=4;break}return e.abrupt("return",ae.a.warn("Only English letters please!"));case 4:ae.a.loading("Loading your data...").then((function(){a(J(o)).then((function(e){a($(e.Key)),a(G(e.Key)),ae.a.success("Data Successfully Loaded")})).catch((function(){ae.a.warn("can't find ".concat(o,", try again!"))}))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return n.a.createElement("div",{className:"input-container",style:{maxWidth:"270px"}},n.a.createElement("form",{style:{display:"flex"},onSubmit:l},n.a.createElement("input",{className:"input is-info",type:"text",value:o,label:"userInput",name:"userInput",onChange:function(e){return s(e.target.value)},placeholder:"Search Location..."}),n.a.createElement("button",{className:"".concat(t?"is-light":"is-dark"," button")},"Search")))}))),ce=function(){return n.a.createElement("div",{className:"home-page"},n.a.createElement(ne,null),n.a.createElement(re,null))},ie=(a(86),Object(x.f)(Object(s.b)(null,(function(e){return{deleteFavorite:function(t){return e(R(t))},selectedCity:function(t){return e(function(e){return{type:E.SELECTED_CITY,payload:e}}(t))}}}))((function(e){var t=e.favorite,a=e.deleteFavorite,r=e.history,c=e.selectedCity;return n.a.createElement("div",{className:"favorite-preview",onClick:function(){c(t.cityName),r.push("/")}},n.a.createElement("div",{className:"cards-container"},n.a.createElement("div",{className:"box"},n.a.createElement("div",{className:"weathercon"},n.a.createElement("img",{src:"https://apidev.accuweather.com/developers/Media/Default/WeatherIcons/".concat(t.icon,"-s.png"),alt:""})),n.a.createElement("div",{className:"info"},n.a.createElement("h2",{className:"location"},t.cityName,", ",t.countryName),n.a.createElement("div",{className:"remove",onClick:function(){a(t),ae.a.success("Successfully deleted ".concat(t.cityName," from favorites"))}},"\u2715 ",n.a.createElement("br",null),n.a.createElement("span",null,"Delete City")),n.a.createElement("h2",{className:"temp"},((t.temperature.Imperial.Value-32)/1.8).toFixed()," \xb0C | ",t.temperature.Imperial.Value," \xb0F")))))})))),oe=(a(87),Object(s.b)((function(e){return{favorites:e.favoriteReducer.favorites}}))((function(e){var t=e.favorites;return n.a.createElement("div",{className:"favorite-page"},n.a.createElement("h1",null,"Your Favorites"),n.a.createElement("div",{className:"favorite-cards"},t.length?t.map((function(e){return n.a.createElement(ie,{key:e.id,favorite:e})})):"Not having any favorites... for now \ud83d\ude09"))}))),se=(a(88),Object(s.b)((function(e){return{darkMode:e.favoriteReducer.darkMode}}))((function(e){var t=e.darkMode;return n.a.createElement("div",{className:"".concat(t?"is-dark-mode":""," App")},n.a.createElement(M,null),n.a.createElement(x.c,null,n.a.createElement(x.a,{exact:!0,path:"/",component:ce}),n.a.createElement(x.a,{exact:!0,path:"/favorites",component:oe})))})));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(s.a,{store:k},n.a.createElement(o.a,null,n.a.createElement(l.a,{persistor:S},n.a.createElement(se,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[46,1,2]]]);
//# sourceMappingURL=main.4cf2ab98.chunk.js.map